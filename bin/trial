#!/usr/bin/env python

# Twisted, the Framework of Your Internet
# Copyright (c) 2001-2004 Twisted Matrix Laboratories.
# See LICENSE for details.

import sys, os, string

# Try to use the correct version of Python on Windows (see ticket #2381)
if os.name == 'nt':
    interpreterPath = os.path.normpath("%s%s..%s%s" % (os.path.dirname(__file__), os.sep, "..", os.sep, "python.exe"))
    if interpreterPath != sys.executable and os.path.exists(interpreterPath):
        os.execv(interpreterPath, [__file__]+sys.argv)

### Twisted Preamble
# This makes sure that users don't have to set up their environment
# specially in order to run these programs from bin/.
if string.find(os.path.abspath(sys.argv[0]), os.sep+'Twisted') != -1:
    sys.path.insert(0, os.path.normpath(os.path.join(os.path.abspath(sys.argv[0]), os.pardir, os.pardir)))
if hasattr(os, "getuid") and os.getuid() != 0:
    sys.path.insert(0, os.curdir)
### end of preamble

# begin chdir armor
sys.path[:] = map(os.path.abspath, sys.path)
# end chdir armor

from twisted.scripts.trial import run
run()
