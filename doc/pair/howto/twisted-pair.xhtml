<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Twisted Pair: Low-level Networking</title>
</head>

<body>
<h1>Twisted Pair: Low-level Networking</h1>

<p>Twisted can do low-level networking, too.  Linux provides a facility, known
as <em>tun/tap interfaces</em>, for reading and writing network data below the
UDP, TCP, and even IP level.  With this facility, it is possible to construct
packets for other protocols (such as ARP or ICMP) or to interact with IP, UDP,
and TCP at a lower level - bypassing the standard "BSD socket API".</p>

<p>Twisted Pair exposes this functionality via
the <code class="API">twisted.pair.tuntap.TuntapPort</code> class.  This is a
datagram port - in many ways similar to the UDP port type created by a call
to <code>reactor.listenUDP</code>.  However, instead of listening for UDP
traffic, it listens either for ethernet frames or IP datagrams.</p>

<p>Here's an illustration that shows the relationships of different classes and
how data could flow for receiving packets.  Notice where <code>TuntapPort</code>
falls in this diagram.</p>

<pre>
FileWrapper
   |
   v
PcapProtocol  TuntapPort
   |            |
   +------------+
   v
EthernetProtocol
   |
   +------------+-----------+---...
   v            v           v
IPProtocol    ARPProtocol  IPv6Protocol
   |
   +-------------+----------------+---...
   v             v                v
RawUDPProtocol  RawICMPProtocol  RawTCPProtocol
   |
   v
DatagramProtocol
</pre>

<p>Of course, for writing, the picture would look pretty much identical, except
all arrows would be reversed.</p>

<h2>Overview of classes</h2>

<p>TODO</p>

<h3>Transports</h3>

<p>TODO</p>

<ul>
<li>TuntapPort: TODO</li>
</ul>

<h3>Protocols</h3>

<p>TODO</p>

<ul>
<li>EthernetProtocol: TODO</li>
<li>IPProtocol: TODO</li>
<li>RawUDPProtocol: TODO</li>
</ul>

<h3>Interfaces</h3>

<p>TODO</p>

<ul>
<li>IRawDatagramProtocol: TODO</li>
<li>IRawPacketProtocol: TODO</li>
</ul>

</body>
</html>
